<!DOCTYPE html>
<html>
<head>
    <title>Test Diagn√≥stico DECE</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #1a1a1a;
            color: #0f0;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 16px;
            cursor: pointer;
        }
        .log {
            background: #000;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #0f0;
            max-height: 400px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <h1>üîç DIAGN√ìSTICO DECE</h1>
    
    <p><strong>Instrucciones:</strong></p>
    <ol>
        <li>Haz click en cada bot√≥n</li>
        <li>Copia TODO el log que aparece abajo</li>
        <li>Env√≠amelo</li>
    </ol>
    
    <button onclick="testLeaflet()">1. Test Leaflet</button>
    <button onclick="testPapaParse()">2. Test PapaParse</button>
    <button onclick="testFiles()">3. Test Archivos</button>
    <button onclick="testConsole()">4. Test Console</button>
    
    <h2>Log:</h2>
    <div class="log" id="log"></div>
    
    <script>
        function log(msg) {
            const logDiv = document.getElementById('log');
            logDiv.innerHTML += msg + '<br>';
            console.log(msg);
        }
        
        function testLeaflet() {
            log('=== TEST LEAFLET ===');
            if (typeof L !== 'undefined') {
                log('‚úÖ Leaflet cargado: ' + L.version);
            } else {
                log('‚ùå Leaflet NO cargado');
            }
        }
        
        function testPapaParse() {
            log('=== TEST PAPAPARSE ===');
            if (typeof Papa !== 'undefined') {
                log('‚úÖ PapaParse cargado');
            } else {
                log('‚ùå PapaParse NO cargado');
            }
        }
        
        async function testFiles() {
            log('=== TEST ARCHIVOS ===');
            try {
                const response = await fetch('app.js');
                log('‚úÖ app.js encontrado: ' + response.status);
            } catch (e) {
                log('‚ùå app.js NO encontrado: ' + e);
            }
            
            try {
                const response = await fetch('DECE_CRUCE_X_Y_NUC_SAT.csv');
                log('‚úÖ CSV encontrado: ' + response.status);
            } catch (e) {
                log('‚ùå CSV NO encontrado: ' + e);
            }
        }
        
        function testConsole() {
            log('=== TEST CONSOLE ===');
            log('URL: ' + window.location.href);
            log('Protocol: ' + window.location.protocol);
            log('Host: ' + window.location.host);
            
            if (window.location.protocol === 'file:') {
                log('‚ùå ¬°PROBLEMA! Est√°s usando file://');
                log('‚ùå Debes usar http://localhost:8000');
            } else {
                log('‚úÖ Usando servidor HTTP correcto');
            }
        }
        
        log('üîç Diagn√≥stico listo. Haz click en los botones.');
    </script>
</body>
</html>
